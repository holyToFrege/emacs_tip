<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-07-03 Sat 15:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>이맥스 설치와 실행</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Hoyoul Park" />
<meta name="description" content="Org-HTML export made simple."
 />
<meta name="keywords" content="org-mode, export, html, theme, style, css, js, bigblow" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">이맥스 설치와 실행</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgaeafb9a">1. OSX에서 Emacs 설치본에 대해서</a></li>
<li><a href="#orgbf5e037">2. emacs install (EmacsForMacOsx)</a></li>
<li><a href="#org1555a15">3. built-in emacs를 삭제한다.</a></li>
<li><a href="#org2fa327f">4. emacs for mac osx 설정</a>
<ul>
<li><a href="#orgb698b2f">4.1. emacs script</a></li>
<li><a href="#org22f9911">4.2. emacsclient</a></li>
</ul>
</li>
<li><a href="#org6d26f39">5. Emacs Settings</a>
<ul>
<li><a href="#org7570d66">5.1. input source settings</a></li>
<li><a href="#org20d9f30">5.2. caps-lock to left control</a></li>
<li><a href="#orge685996">5.3. font settings</a></li>
<li><a href="#orgf7cf1b6">5.4. icon 문제</a></li>
</ul>
</li>
<li><a href="#orge369be4">6. Emacs Deamon &amp; Server</a>
<ul>
<li><a href="#org097e6dd">6.1. Daemon과 server</a></li>
<li><a href="#orgd8ec49b">6.2. Emacs Deamon(server) 와 client의 사용법</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgaeafb9a" class="outline-2">
<h2 id="orgaeafb9a"><span class="section-number-2">1</span> OSX에서 Emacs 설치본에 대해서</h2>
<div class="outline-text-2" id="text-1">
<p>
실행파일은 일반적으로 cpu architecture binary다. 사용자의 입력이
필요할 경우, interface가 추가된 실행파일이 사용된다. interface는
system이 GUI일 경우, GUI interface가 추가된 실행파일이 사용되고,
terminal일 경우, terminal interface가 추가된 실행파일이
사용된다. MacOS의 경우 실행파일이 2종류가 있다. GUI Emacs와 Terminal
Emacs이다.  GUI Emacs는 app의 형태를 갖고, Terminal Emacs는 Terminal
command로 존재한다.
</p>

<p>
제공되는 emacs 설치본은 4가지가 있다.
</p>
<ul class="org-ul">
<li><b>brew install emacs</b><br />
Terminal Emacs를 설치한다. built-in Emacs로
/usr/local/Cellar/emacs에 설치되며, /usr/local/bin에 stubborn이
있다. terminal에서만 실행가능하다. app이 제공되지 않아서
launchpad에서는 실행할 수 없다. gnu emacs와 동일한 바닐라 emacs다.</li>

<li><b>brew &#x2013;cask install emacs</b><br />
GUI Emacs를 설치한다. /Applications/Emacs.app에 설치되며
launchpad에서 icon을 눌러 실행할 수 있다.  <b>EmacsForMacosx</b> 에서
다운 받는 버전과 동일하다.  terminal UI는 지원하지
않는다. launchpad가 아닌 terminal에서 Emacs app을 실행할수 있다. gnu
vanilla emacs다.</li>

<li><b><a href="https://aquamacs.org/">Aquamacs</a></b><br />
GUI emacs 별도로 customizing되어 있다.</li>

<li><b><a href="https://github.com/railwaycat/homebrew-emacsmacport">emacs mac ports</a></b><br />
GUI emacs, org-protocol, org-capture를 사용할 수 있다고 한다.</li>
</ul>
</div>
</div>

<div id="outline-container-orgbf5e037" class="outline-2">
<h2 id="orgbf5e037"><span class="section-number-2">2</span> <a href="https://emacsformacosx.com">emacs install</a> (EmacsForMacOsx)</h2>
<div class="outline-text-2" id="text-2">

<div id="orgf1f824e" class="figure">
<p><img src="./img/emfm.png" alt="emfm.png" width="400px" />
</p>
<p><span class="figure-number">Figure 1: </span>emacs for mac osx</p>
</div>

<p>
emacsformacosx를 설치하는 이유는 mac에서 app으로 실행할
수 있고, terminal에서 shell script를 사용해서 app을 실행시킬수 있기
때문이다. aquamacs와 macportemacs도 gui emacs이지만, gnu의 바닐라
emacs가 아닌 약간의 tunning을 거친 emacs라 제외했다.
</p>
</div>
</div>

<div id="outline-container-org1555a15" class="outline-2">
<h2 id="org1555a15"><span class="section-number-2">3</span> built-in emacs를 삭제한다.</h2>
<div class="outline-text-2" id="text-3">
<p>
EmacsForMacosx를 설치하기 전에 해야 할께 있다.  osx를 처음 설치하면,
defaut emacs가 설치되어 있는데, 우선 /usr/local/bin을 보자.  emacs와
emacsclient를 볼 수 있다. 이 emacs는 terminal ui를 갖는 emacs다. 나는
Gui emacs를 사용할것이기 때문에 사용하지 않는다. 그래서 지워 보자.
brew uninstall emacs 를 하면 어떻게 삭제하는지 알려준다.
</p>
</div>
</div>

<div id="outline-container-org2fa327f" class="outline-2">
<h2 id="org2fa327f"><span class="section-number-2">4</span> emacs for mac osx 설정</h2>
<div class="outline-text-2" id="text-4">
<p>
이제 emacs for mac osx를 설치했기 때문에 launchpad에 보면 emacs.app
icon을 볼 수 있다. terminal에서 emacs app을 사용하기 위해서 해야할
것들이 있다.
</p>
</div>

<div id="outline-container-orgb698b2f" class="outline-3">
<h3 id="orgb698b2f"><span class="section-number-3">4.1</span> emacs script</h3>
<div class="outline-text-3" id="text-4-1">
<p>
emacs라는 shell script를 /usr/local/bin에 만든다.
</p>

<div class="org-src-container">
<pre class="src src-sh">#!/bin/sh
/Applications/Emacs.app/Contents/MacOS/Emacs "$@"
</pre>
</div>
</div>
</div>

<div id="outline-container-org22f9911" class="outline-3">
<h3 id="org22f9911"><span class="section-number-3">4.2</span> emacsclient</h3>
<div class="outline-text-3" id="text-4-2">
<p>
emacsclient를 /usr/local/bin에 link한다.
</p>
<div class="org-src-container">
<pre class="src src-sh">ln -s /Applications/Emacs.app/Contents/MacOS/bin/emacsclient /usr/local/bin
</pre>
</div>

<p>
이제 emacs와 emacsclient를 terminal에서 사용할 수 있게
되었다. emacsclient가 무엇인지는 나중에 설명하겠다.
</p>
</div>
</div>
</div>
<div id="outline-container-org6d26f39" class="outline-2">
<h2 id="org6d26f39"><span class="section-number-2">5</span> Emacs Settings</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org7570d66" class="outline-3">
<h3 id="org7570d66"><span class="section-number-3">5.1</span> input source settings</h3>
<div class="outline-text-3" id="text-5-1">
<p>
한글 입력을 위한 변환키 설정을 C-space로 하는데, system
preference-&gt;keyboards-&gt;shortcut에서 설정 한다.
</p>

<div id="org04b63f7" class="figure">
<p><img src="./img/transKOR.png" alt="transKOR.png" width="400px" />
</p>
<p><span class="figure-number">Figure 2: </span>trans korean</p>
</div>
</div>
</div>

<div id="outline-container-org20d9f30" class="outline-3">
<h3 id="org20d9f30"><span class="section-number-3">5.2</span> caps-lock to left control</h3>
<div class="outline-text-3" id="text-5-2">
<p>
keyboard의 caps는 control로 많이 사용된다. 이것은 karabiner로
세팅한다.
</p>

<div id="orgd4ad292" class="figure">
<p><img src="./img/karabiner.png" alt="karabiner.png" width="400px" />
</p>
<p><span class="figure-number">Figure 3: </span>karabiner settings</p>
</div>
</div>
</div>

<div id="outline-container-orge685996" class="outline-3">
<h3 id="orge685996"><span class="section-number-3">5.3</span> font settings</h3>
<div class="outline-text-3" id="text-5-3">
<p>
emacs에서 사용하는 font가 variable pitch와 fixed pitch가 있는데,
variable pitch로 source code pro를 사용하고 fixed-pitch로 fira-code를
사용한다. 설치가 안되어 있다면 설치를 해야 한다. .dotfiles폴더에
넣어놓았다. 두 개를 설치한다.
</p>

<div id="orga7bcdfd" class="figure">
<p><img src="./img/font.png" alt="font.png" width="400px" />
</p>
<p><span class="figure-number">Figure 4: </span>font settings</p>
</div>
</div>
</div>

<div id="outline-container-orgf7cf1b6" class="outline-3">
<h3 id="orgf7cf1b6"><span class="section-number-3">5.4</span> icon 문제</h3>
<div class="outline-text-3" id="text-5-4">
<p>
emacs를 실행하면 아래와 같이 하단에 icon이 깨지는 문제가 있다.
</p>

<div id="org1f2db04" class="figure">
<p><img src="./img/icon.png" alt="icon.png" width="400px" />
</p>
<p><span class="figure-number">Figure 5: </span>icon</p>
</div>

<p>
이 문제를 해결하기 위해서 M-x all-the-icons-install로 icon을
설치해준다. 설치하고 다시 실행하면 아래와 같이 보이는 것을 확인할 수
있다.
</p>

<div id="org0d8637f" class="figure">
<p><img src="./img/icon_new.png" alt="icon_new.png" width="400px" />
</p>
<p><span class="figure-number">Figure 6: </span>icon2</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orge369be4" class="outline-2">
<h2 id="orge369be4"><span class="section-number-2">6</span> Emacs Deamon &amp; Server</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org097e6dd" class="outline-3">
<h3 id="org097e6dd"><span class="section-number-3">6.1</span> Daemon과 server</h3>
<div class="outline-text-3" id="text-6-1">
<p>
우선 Daemon과 server를 구분할 필요가 있다.
</p>

<ul class="org-ul">
<li><b>Daemon</b> : 시스템에 상주하는 process, 종료하지 않는데, 내부적으로
무한 loop을 돌고 있다고 생각하면 된다. 예전에는 network service를
하는 server들이 모두 Daemon이기에 server들을 daemon이라고 불렀다.</li>
</ul>


<ul class="org-ul">
<li><b>Server</b> : Daemon이지만 client의 접속을 받아들인다. 모든 daemon이
client의 요청을 처리하지 않는다. Daemon이면서 client의 요청을
처리하는 process를 server라고 한다.</li>
</ul>


<ul class="org-ul">
<li><b>emacs daemon</b>: emacs daemon은 2가지가 있다. &#x2013;fg-daemon,
&#x2013;bg-daemon이다.  fg는 forground여서 terminal에서 실행하면 prompt를
반환하지 않고, error나 warning이 console에 출력 된다. 반면
background로 실행되면 prompt가 바로 반환되게 되고 background로 돌게
된다. emacs daemon은 계속 system에서 돌뿐이지, server 역할은 하지
않는다. client가 접속할 수 없다.</li>
</ul>


<ul class="org-ul">
<li><b>emacs Server</b> : emacs server는 emacs 초기화 설정파일인 init.el에
(server-start)를 기술하면 된다. emacs를 실행하면, GUI emacs
instance가 생성되고 server역할을 하게 된다. 즉 client가 접속할 수
있다.</li>
</ul>


<ul class="org-ul">
<li><b>emacsclient</b>: emacs는 자체적인 gui instance는 없다. emacs
instance처럼 init.el을 실행하지도 않는다. server가 없다면 실행도
되지 않는다.</li>
</ul>
</div>
</div>

<div id="outline-container-orgd8ec49b" class="outline-3">
<h3 id="orgd8ec49b"><span class="section-number-3">6.2</span> Emacs Deamon(server) 와 client의 사용법</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>init.el에 (server-start)를 기술한다.</li>
<li>emacs &#x2013;bg-daemon으로 실행한다.<br />
 그냥 emacs를 실행 시키면 server역할을 하지만, 문제가 gui
instance가 생성된다는 것이다. 나는 server는 background로 실행하고
emacsclient로 연결해서 사용할 것이기 때문에 daemon으로 실행한다.</li>
<li>emacsclient -nc<br />
(no wait를 하는것은 바로 연결된다. 정확한 의미는 모르겠다. &#x2013;create frame은 frame을 만들어준다.)</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Hoyoul Park</p>
<p class="date">Created: 2021-07-03 Sat 15:10</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
